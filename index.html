<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Secret Story Encryptor</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="wrap" role="main">
    <header>
      <img src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='40' height='40'><rect rx='8' width='40' height='40' fill='%2300ff00'/><text x='50%' y='55%' font-size='20' text-anchor='middle' fill='black' font-family='Courier New'>SS</text></svg>" alt="" />
      <div>Secret Story Encryptor</div>
    </header>

    <section class="card">
      <h3>Encrypt Here</h3>
      <label for="plain">Plaintext Message</label>
      <textarea id="plain" rows="4" placeholder="Enter secret message..." aria-required="true"></textarea>
      <label for="encPass">Password</label>
      <input id="encPass" type="password" placeholder="Enter password" aria-describedby="passwordAdviceEnc" aria-required="true" />
      <div class="small" id="passwordAdviceEnc">Use a strong password for security.</div>
      <div class="controls" role="group">
        <button id="btnEncode" type="button">Encrypt</button>
        <button id="btnEncodeCopy" type="button" class="ghost" disabled>Copy Story</button>
        <div class="small" style="margin-left:auto;">
          Theme:
          <select id="themeSelect">
            <option value="general">General</option>
            <option value="physics">Physics</option>
            <option value="cs">Computer Science</option>
            <option value="astro">Astronomy</option>
          </select>
          Style:
          <select id="variantSelect">
            <option value="short">Short</option>
            <option value="long">Long</option>
            <option value="poetic">Poetic</option>
          </select>
        </div>
      </div>
      <label style="margin-top:1rem;">Encrypted Story Output (paragraphs)</label>
      <div id="storyOut" class="output" aria-live="polite" spellcheck="false"></div>
      <div id="storySig" class="signature" aria-live="polite"></div>
    </section>

    <section class="card">
      <h3>Decrypt Here</h3>
      <label for="storyIn">Paste Encrypted Story</label>
      <textarea id="storyIn" rows="6" placeholder="Paste full story including signature" aria-required="true" spellcheck="false"></textarea>
      <label for="decPass">Password</label>
      <input id="decPass" type="password" placeholder="Enter password" aria-required="true" aria-describedby="passwordAdviceDec" />
      <div class="small" id="passwordAdviceDec">Use the same password used for encryption.</div>
      <div class="controls" role="group">
        <button id="btnDecode" type="button">Decrypt</button>
        <button id="btnRevealCopy" type="button" class="ghost" disabled>Copy Secret</button>
        <div style="margin-left:auto;" class="small">
          Show for
          <select id="showSeconds">
            <option value="5">5 sec</option>
            <option value="10" selected>10 sec</option>
            <option value="20">20 sec</option>
            <option value="0">Persistent</option>
          </select>
        </div>
      </div>
      <label style="margin-top:1rem;">Decrypted Secret</label>
      <div id="decryptedOut" class="output" aria-live="polite" aria-atomic="true" spellcheck="false"></div>
      <div id="countdown" class="small" style="display:none;">
        Secret will self-destruct in <span class="timer">10</span> seconds.
      </div>
    </section>

    <footer>
      <p>Developed by Venkat.</p>
      <p>
        <a href="https://github.com/venkatengineer" target="_blank">GitHub: venkatengineer</a> | 
        <a href="https://instagram.com/venkat__engineer" target="_blank">Instagram: venkat__engineer</a>
      </p>
    </footer>
  </div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
<script src="script.js"></script>

</body>
</html>
